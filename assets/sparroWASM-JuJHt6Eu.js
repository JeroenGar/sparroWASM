import{s as j}from"./workerHelpers-BDb3ppDo.js";function L(){return i.get_terminate_flag_offset()>>>0}function k(t){return i.initThreadPool(t)}function $(t,o){const e=i.init_logger(t,o);if(e[1])throw F(e[0])}function V(t,o,e,n,r,s){const _=i.run_sparrow(t,o,!c(e),c(e)?BigInt(0):e,!c(n),c(n)?BigInt(0):n,r,s);if(_[1])throw F(_[0])}class m{static __wrap(o){o=o>>>0;const e=Object.create(m.prototype);return e.__wbg_ptr=o,T.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const o=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),o}free(){const o=this.__destroy_into_raw();i.__wbg_wbg_rayon_poolbuilder_free(o,0)}build(){i.wbg_rayon_poolbuilder_build(this.__wbg_ptr)}numThreads(){return i.wbg_rayon_poolbuilder_numThreads(this.__wbg_ptr)>>>0}receiver(){return i.wbg_rayon_poolbuilder_receiver(this.__wbg_ptr)>>>0}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);function N(t){i.wbg_rayon_start_worker(t)}function O(t){return{__proto__:null,"./sparroWASM_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(e,n){return Error(h(e,n))},__wbg_String_8f0eb39a4a4c2f66:function(e,n){const r=String(n),s=S(r,i.__wbindgen_malloc,i.__wbindgen_realloc),_=p;a().setInt32(e+4,_,!0),a().setInt32(e+0,s,!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(e){const n=e,r=typeof n=="boolean"?n:void 0;return c(r)?16777215:r?1:0},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(e,n){const r=x(n),s=S(r,i.__wbindgen_malloc,i.__wbindgen_realloc),_=p;a().setInt32(e+4,_,!0),a().setInt32(e+0,s,!0)},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(e){return e===void 0},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(e,n){return e==n},__wbg___wbindgen_memory_bd1fbcf21fbef3c8:function(){return i.memory},__wbg___wbindgen_module_f6b8052d79c1cc16:function(){return M},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(e,n){const r=n,s=typeof r=="number"?r:void 0;a().setFloat64(e+8,c(s)?0:s,!0),a().setInt32(e+0,!c(s),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(e,n){const r=n,s=typeof r=="string"?r:void 0;var _=c(s)?0:S(s,i.__wbindgen_malloc,i.__wbindgen_realloc),f=p;a().setInt32(e+4,f,!0),a().setInt32(e+0,_,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(e,n){throw new Error(h(e,n))},__wbg_call_389efe28435a9388:function(){return A(function(e,n){return e.call(n)},arguments)},__wbg_error_9a7fe3f932034cde:function(e){console.error(e)},__wbg_getRandomValues_ea728b1d79dae146:function(){return A(function(e){globalThis.crypto.getRandomValues(e)},arguments)},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(e){let n;try{n=e instanceof ArrayBuffer}catch{n=!1}return n},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},__wbg_instanceof_Window_ed49b2db8df90359:function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},__wbg_length_32ed9a279acd054c:function(e){return e.length},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dd2b680c8bf6ae29:function(e){return new Uint8Array(e)},__wbg_new_no_args_1c7c842f08d00ebb:function(e,n){return new Function(h(e,n))},__wbg_new_with_length_a2c39cbe88fd8ff1:function(e){return new Uint8Array(e>>>0)},__wbg_now_2c95c9de01293173:function(e){return e.now()},__wbg_performance_7a3ffd0b17f663ad:function(e){return e.performance},__wbg_postMessage_70ada894b0a6df09:function(e){postMessage(e)},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(e,n,r){Uint8Array.prototype.set.call(E(e,n),r)},__wbg_push_8ffdcb2063340ba5:function(e,n){return e.push(n)},__wbg_set_6cb8631f80447a67:function(){return A(function(e,n,r){return Reflect.set(e,n,r)},arguments)},__wbg_startWorkers_2ca11761e08ff5d5:function(e,n,r){return j(e,n,m.__wrap(r))},__wbg_static_accessor_GLOBAL_12837167ad935116:function(){const e=typeof global>"u"?null:global;return c(e)?0:b(e)},__wbg_static_accessor_GLOBAL_THIS_e628e89ab3b1c95f:function(){const e=typeof globalThis>"u"?null:globalThis;return c(e)?0:b(e)},__wbg_static_accessor_SELF_a621d3dfbb60d0ce:function(){const e=typeof self>"u"?null:self;return c(e)?0:b(e)},__wbg_static_accessor_WINDOW_f8727f0cf888e0bd:function(){const e=typeof window>"u"?null:window;return c(e)?0:b(e)},__wbg_subarray_a96e1fef17ed23cb:function(e,n,r){return e.subarray(n>>>0,r>>>0)},__wbg_timeOrigin_9f29a08704a944d0:function(e){return e.timeOrigin},__wbindgen_cast_0000000000000001:function(e,n){return h(e,n)},__wbindgen_init_externref_table:function(){const e=i.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},memory:t||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0})}}}const T=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_wbg_rayon_poolbuilder_free(t>>>0,1));function b(t){const o=i.__externref_table_alloc();return i.__wbindgen_externrefs.set(o,t),o}function x(t){const o=typeof t;if(o=="number"||o=="boolean"||t==null)return`${t}`;if(o=="string")return`"${t}"`;if(o=="symbol"){const r=t.description;return r==null?"Symbol":`Symbol(${r})`}if(o=="function"){const r=t.name;return typeof r=="string"&&r.length>0?`Function(${r})`:"Function"}if(Array.isArray(t)){const r=t.length;let s="[";r>0&&(s+=x(t[0]));for(let _=1;_<r;_++)s+=", "+x(t[_]);return s+="]",s}const e=/\[object ([^\]]+)\]/.exec(toString.call(t));let n;if(e&&e.length>1)n=e[1];else return toString.call(t);if(n=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}function E(t,o){return t=t>>>0,g().subarray(t/1,t/1+o)}let d=null;function a(){return(d===null||d.buffer!==i.memory.buffer)&&(d=new DataView(i.memory.buffer)),d}function h(t,o){return t=t>>>0,B(t,o)}let l=null;function g(){return(l===null||l.buffer!==i.memory.buffer)&&(l=new Uint8Array(i.memory.buffer)),l}function A(t,o){try{return t.apply(this,o)}catch(e){const n=b(e);i.__wbindgen_exn_store(n)}}function c(t){return t==null}function S(t,o,e){if(e===void 0){const f=y.encode(t),u=o(f.length,1)>>>0;return g().subarray(u,u+f.length).set(f),p=f.length,u}let n=t.length,r=o(n,1)>>>0;const s=g();let _=0;for(;_<n;_++){const f=t.charCodeAt(_);if(f>127)break;s[r+_]=f}if(_!==n){_!==0&&(t=t.slice(_)),r=e(r,n,n=_+t.length*3,1)>>>0;const f=g().subarray(r+_,r+n),u=y.encodeInto(t,f);_+=u.written,r=e(r,n,_,1)>>>0}return p=_,r}function F(t){const o=i.__wbindgen_externrefs.get(t);return i.__externref_table_dealloc(t),o}let w=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):void 0;w&&w.decode();const R=2146435072;let W=0;function B(t,o){return W+=o,W>=R&&(w=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),w.decode(),W=o),w.decode(g().slice(t,t+o))}const y=typeof TextEncoder<"u"?new TextEncoder:void 0;y&&(y.encodeInto=function(t,o){const e=y.encode(t);return o.set(e),{read:t.length,written:e.length}});let p=0,M,i;function I(t,o,e){if(i=t.exports,M=o,d=null,l=null,typeof e<"u"&&(typeof e!="number"||e===0||e%65536!==0))throw"invalid stack size";return i.__wbindgen_start(e),i}async function U(t,o){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,o)}catch(r){if(t.ok&&e(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,o)}else{const n=await WebAssembly.instantiate(t,o);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}function e(n){switch(n){case"basic":case"cors":case"default":return!0}return!1}}function P(t,o){if(i!==void 0)return i;let e;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module:t,memory:o,thread_stack_size:e}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const n=O(o);t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const r=new WebAssembly.Instance(t,n);return I(r,t,e)}async function z(t,o){if(i!==void 0)return i;let e;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t,memory:o,thread_stack_size:e}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),t===void 0&&(t=new URL("/sparroWASM/assets/sparroWASM_bg-crWgBS9U.wasm",import.meta.url));const n=O(o);(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:s}=await U(await t,n);return I(r,s,e)}export{z as default,L as get_terminate_flag_offset,P as initSync,k as initThreadPool,$ as init_logger,V as run_sparrow,m as wbg_rayon_PoolBuilder,N as wbg_rayon_start_worker};
